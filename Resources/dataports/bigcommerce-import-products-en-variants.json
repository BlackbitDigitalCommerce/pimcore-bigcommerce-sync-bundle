{
    "plugin_pim_dataport": {
        "id": 14,
        "name": "Bigcommerce Import Products EN Variants",
        "description": "",
        "sourcetype": "json",
        "sourceconfig": "a:8:{s:6:\"fields\";a:27:{s:7:\"field_1\";a:1:{s:9:\"json-path\";s:2:\"id\";}s:7:\"field_2\";a:1:{s:9:\"json-path\";s:10:\"product_id\";}s:7:\"field_3\";a:1:{s:9:\"json-path\";s:3:\"sku\";}s:7:\"field_4\";a:1:{s:9:\"json-path\";s:6:\"sku_id\";}s:7:\"field_5\";a:1:{s:9:\"json-path\";s:5:\"price\";}s:7:\"field_6\";a:1:{s:9:\"json-path\";s:16:\"calculated_price\";}s:7:\"field_7\";a:1:{s:9:\"json-path\";s:10:\"sale_price\";}s:7:\"field_8\";a:1:{s:9:\"json-path\";s:12:\"retail_price\";}s:7:\"field_9\";a:1:{s:9:\"json-path\";s:9:\"map_price\";}s:8:\"field_10\";a:1:{s:9:\"json-path\";s:6:\"weight\";}s:8:\"field_11\";a:1:{s:9:\"json-path\";s:17:\"calculated_weight\";}s:8:\"field_12\";a:1:{s:9:\"json-path\";s:5:\"width\";}s:8:\"field_13\";a:1:{s:9:\"json-path\";s:6:\"height\";}s:8:\"field_14\";a:1:{s:9:\"json-path\";s:5:\"depth\";}s:8:\"field_15\";a:1:{s:9:\"json-path\";s:16:\"is_free_shipping\";}s:8:\"field_16\";a:1:{s:9:\"json-path\";s:25:\"fixed_cost_shipping_price\";}s:8:\"field_17\";a:1:{s:9:\"json-path\";s:19:\"purchasing_disabled\";}s:8:\"field_18\";a:1:{s:9:\"json-path\";s:27:\"purchasing_disabled_message\";}s:8:\"field_19\";a:1:{s:9:\"json-path\";s:9:\"image_url\";}s:8:\"field_20\";a:1:{s:9:\"json-path\";s:10:\"cost_price\";}s:8:\"field_21\";a:1:{s:9:\"json-path\";s:3:\"upc\";}s:8:\"field_22\";a:1:{s:9:\"json-path\";s:3:\"mpn\";}s:8:\"field_23\";a:1:{s:9:\"json-path\";s:4:\"gtin\";}s:8:\"field_24\";a:1:{s:9:\"json-path\";s:15:\"inventory_level\";}s:8:\"field_25\";a:1:{s:9:\"json-path\";s:23:\"inventory_warning_level\";}s:8:\"field_26\";a:1:{s:9:\"json-path\";s:18:\"bin_picking_number\";}s:8:\"field_27\";a:1:{s:9:\"json-path\";s:13:\"option_values\";}}s:4:\"file\";s:287:\"curl --request GET --url 'https://api.bigcommerce.com/stores/{{ Store:key:sandbox:bigcommerce_id }}/v3/catalog/products/{{bigcommerceProductId}}/variants' --header 'Accept: application/json' --header 'Content-Type: application/json' --header 'X-Auth-Token: {{ Store:key:sandbox:token }}'\";s:10:\"autoImport\";b:0;s:17:\"incrementalExport\";b:0;s:11:\"assetSource\";s:34:\"/ProductVariants/{{ productName }}\";s:13:\"archiveFolder\";s:0:\"\";s:14:\"item-json-path\";s:4:\"data\";s:9:\"hasHeader\";b:0;}",
        "targetconfig": "a:12:{s:4:\"mode\";s:1:\"3\";s:9:\"itemClass\";s:14:\"productVariant\";s:10:\"itemFolder\";s:9:\"/Products\";s:14:\"masterDocument\";s:0:\"\";s:19:\"optimizeInheritance\";s:1:\"0\";s:14:\"skipVersioning\";b:0;s:16:\"javascriptEngine\";s:3:\"php\";s:11:\"assetFolder\";s:34:\"/ProductVariants/{{ productName }}\";s:8:\"idPrefix\";s:0:\"\";s:13:\"categoryClass\";s:0:\"\";s:17:\"fieldnameProducts\";s:0:\"\";s:17:\"compatibilityMode\";s:1:\"0\";}"
    },
    "plugin_pim_fieldmapping": [
        {
            "dataportId": 14,
            "fieldName": "bigcommerce_id",
            "locale": "en",
            "fieldNo": 1,
            "keyMapping": 1,
            "format": "a:8:{s:16:\"decimalSeparator\";s:1:\".\";s:17:\"groupingSeparator\";s:1:\",\";s:8:\"optimize\";s:0:\"\";s:9:\"overwrite\";b:0;s:17:\"preventDuplicates\";b:0;s:14:\"writeProtected\";b:0;s:10:\"purgeitems\";b:0;s:20:\"auto_generate_fields\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "bigcommerce_product_id",
            "locale": "en",
            "fieldNo": 2,
            "keyMapping": 0,
            "format": "a:4:{s:16:\"decimalSeparator\";s:1:\".\";s:17:\"groupingSeparator\";s:1:\",\";s:8:\"optimize\";s:0:\"\";s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "bin_picking_number",
            "locale": "en",
            "fieldNo": 26,
            "keyMapping": 0,
            "format": "a:2:{s:21:\"translateFromLanguage\";s:0:\"\";s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "calculated_price",
            "locale": "en",
            "fieldNo": 6,
            "keyMapping": 0,
            "format": "a:2:{s:15:\"autoCreateUnits\";b:0;s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "calculated_weight",
            "locale": "en",
            "fieldNo": 11,
            "keyMapping": 0,
            "format": "a:6:{s:15:\"autoCreateUnits\";b:1;s:9:\"overwrite\";b:0;s:17:\"preventDuplicates\";b:0;s:14:\"writeProtected\";b:0;s:10:\"purgeitems\";b:0;s:20:\"auto_generate_fields\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "cost_price",
            "locale": "en",
            "fieldNo": 20,
            "keyMapping": 0,
            "format": "a:2:{s:15:\"autoCreateUnits\";b:0;s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "depth",
            "locale": "en",
            "fieldNo": 14,
            "keyMapping": 0,
            "format": "a:6:{s:15:\"autoCreateUnits\";b:1;s:9:\"overwrite\";b:0;s:17:\"preventDuplicates\";b:0;s:14:\"writeProtected\";b:0;s:10:\"purgeitems\";b:0;s:20:\"auto_generate_fields\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "fixed_cost_shipping_price",
            "locale": "en",
            "fieldNo": 16,
            "keyMapping": 0,
            "format": "a:6:{s:15:\"autoCreateUnits\";b:1;s:9:\"overwrite\";b:0;s:17:\"preventDuplicates\";b:0;s:14:\"writeProtected\";b:0;s:10:\"purgeitems\";b:0;s:20:\"auto_generate_fields\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "gtin",
            "locale": "en",
            "fieldNo": 23,
            "keyMapping": 0,
            "format": "a:2:{s:21:\"translateFromLanguage\";s:0:\"\";s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "height",
            "locale": "en",
            "fieldNo": 13,
            "keyMapping": 0,
            "format": "a:6:{s:15:\"autoCreateUnits\";b:1;s:9:\"overwrite\";b:0;s:17:\"preventDuplicates\";b:0;s:14:\"writeProtected\";b:0;s:10:\"purgeitems\";b:0;s:20:\"auto_generate_fields\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "image",
            "locale": "en",
            "fieldNo": 19,
            "keyMapping": 0,
            "format": "a:3:{s:9:\"overwrite\";b:1;s:17:\"preventDuplicates\";b:0;s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "inventory_level",
            "locale": "en",
            "fieldNo": 24,
            "keyMapping": 0,
            "format": "a:4:{s:16:\"decimalSeparator\";s:1:\".\";s:17:\"groupingSeparator\";s:1:\",\";s:8:\"optimize\";s:0:\"\";s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "inventory_warning_level",
            "locale": "en",
            "fieldNo": 25,
            "keyMapping": 0,
            "format": "a:4:{s:16:\"decimalSeparator\";s:1:\".\";s:17:\"groupingSeparator\";s:1:\",\";s:8:\"optimize\";s:0:\"\";s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "is_free_shipping",
            "locale": "en",
            "fieldNo": 15,
            "keyMapping": 0,
            "format": "a:1:{s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "key",
            "locale": "",
            "fieldNo": 3,
            "keyMapping": 0,
            "format": "a:2:{s:21:\"translateFromLanguage\";s:0:\"\";s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "mpn",
            "locale": "en",
            "fieldNo": 22,
            "keyMapping": 0,
            "format": "a:2:{s:21:\"translateFromLanguage\";s:0:\"\";s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "option_values",
            "locale": "en",
            "fieldNo": 27,
            "keyMapping": 0,
            "format": "a:5:{s:10:\"purgeitems\";b:0;s:9:\"overwrite\";b:1;s:17:\"preventDuplicates\";b:0;s:14:\"writeProtected\";b:0;s:20:\"auto_generate_fields\";b:0;}",
            "calculation": "$return = [];\n$items = is_string($params['value']) ? array_filter(preg_split('/[,|;\\n]\\s*/', $params['value'])) : (array)$params['value'];\nforeach($items as $item) {\n    $return[] = 'OptionValue:bigcommerce_id#en:'.$item['id'];\n}\n        \nreturn $return;",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "path",
            "locale": "",
            "fieldNo": 2,
            "keyMapping": 0,
            "format": "a:6:{s:21:\"translateFromLanguage\";s:0:\"\";s:9:\"overwrite\";b:0;s:17:\"preventDuplicates\";b:0;s:14:\"writeProtected\";b:0;s:10:\"purgeitems\";b:0;s:20:\"auto_generate_fields\";b:0;}",
            "calculation": "return 'Product:bigcommerce_id#en:'.$params['value'];",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "price",
            "locale": "en",
            "fieldNo": 5,
            "keyMapping": 0,
            "format": "a:2:{s:15:\"autoCreateUnits\";b:0;s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "product",
            "locale": "en",
            "fieldNo": 2,
            "keyMapping": 0,
            "format": "a:5:{s:10:\"purgeitems\";b:0;s:9:\"overwrite\";b:1;s:17:\"preventDuplicates\";b:0;s:14:\"writeProtected\";b:0;s:20:\"auto_generate_fields\";b:0;}",
            "calculation": "$return = [];\n$items = is_string($params['value']) ? array_filter(preg_split('/[,|;\\n]\\s*/', $params['value'])) : (array)$params['value'];\nforeach($items as $item) {\n  $return[] = 'Product:bigcommerce_id#en:'.$item;\n}\n        \nreturn $return;",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "purchasing_disabled",
            "locale": "en",
            "fieldNo": 17,
            "keyMapping": 0,
            "format": "a:1:{s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "purchasing_disabled_message",
            "locale": "en",
            "fieldNo": 18,
            "keyMapping": 0,
            "format": "a:2:{s:21:\"translateFromLanguage\";s:0:\"\";s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "retail_price",
            "locale": "en",
            "fieldNo": 8,
            "keyMapping": 0,
            "format": "a:2:{s:15:\"autoCreateUnits\";b:0;s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "sale_price",
            "locale": "en",
            "fieldNo": 7,
            "keyMapping": 0,
            "format": "a:2:{s:15:\"autoCreateUnits\";b:0;s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "sku",
            "locale": "en",
            "fieldNo": 3,
            "keyMapping": 0,
            "format": "a:6:{s:21:\"translateFromLanguage\";s:0:\"\";s:9:\"overwrite\";b:0;s:17:\"preventDuplicates\";b:0;s:14:\"writeProtected\";b:0;s:10:\"purgeitems\";b:0;s:20:\"auto_generate_fields\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "sku_id",
            "locale": "en",
            "fieldNo": 4,
            "keyMapping": 0,
            "format": "a:4:{s:16:\"decimalSeparator\";s:1:\".\";s:17:\"groupingSeparator\";s:1:\",\";s:8:\"optimize\";s:0:\"\";s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "upc",
            "locale": "en",
            "fieldNo": 21,
            "keyMapping": 0,
            "format": "a:2:{s:21:\"translateFromLanguage\";s:0:\"\";s:14:\"writeProtected\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "weight",
            "locale": "en",
            "fieldNo": 10,
            "keyMapping": 0,
            "format": "a:6:{s:15:\"autoCreateUnits\";b:1;s:9:\"overwrite\";b:0;s:17:\"preventDuplicates\";b:0;s:14:\"writeProtected\";b:0;s:10:\"purgeitems\";b:0;s:20:\"auto_generate_fields\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "width",
            "locale": "en",
            "fieldNo": 12,
            "keyMapping": 0,
            "format": "a:6:{s:15:\"autoCreateUnits\";b:1;s:9:\"overwrite\";b:0;s:17:\"preventDuplicates\";b:0;s:14:\"writeProtected\";b:0;s:10:\"purgeitems\";b:0;s:20:\"auto_generate_fields\";b:0;}",
            "calculation": "",
            "brickName": "",
            "targetBrickField": null
        },
        {
            "dataportId": 14,
            "fieldName": "__result_callback",
            "locale": "",
            "fieldNo": null,
            "keyMapping": 0,
            "format": "a:6:{s:8:\"optimize\";s:0:\"\";s:9:\"overwrite\";b:0;s:17:\"preventDuplicates\";b:0;s:14:\"writeProtected\";b:0;s:10:\"purgeitems\";b:0;s:20:\"auto_generate_fields\";b:0;}",
            "calculation": "if($params['lastCall']) {\n    $product = \\Pimcore\\Model\\DataObject\\Product::getByBigcommerce_id($params['rawItemData']['bigcommerce_product_id']['value'], 'en', 1);\n    $variants = \\Pimcore\\Model\\DataObject\\ProductVariant::getByBigcommerce_product_id($params['rawItemData']['bigcommerce_product_id']['value'], 'en');\n    $product->setVariants($variants->load(), 'en');\n    \n    $product->save();\n}\n\n",
            "brickName": "",
            "targetBrickField": null
        }
    ],
    "plugin_pim_rawitemField": [
        {
            "dataportId": 14,
            "fieldNo": 1,
            "name": "bigcommerce_id",
            "priority": 0
        },
        {
            "dataportId": 14,
            "fieldNo": 2,
            "name": "bigcommerce_product_id",
            "priority": 1
        },
        {
            "dataportId": 14,
            "fieldNo": 3,
            "name": "sku",
            "priority": 2
        },
        {
            "dataportId": 14,
            "fieldNo": 4,
            "name": "sku_id",
            "priority": 3
        },
        {
            "dataportId": 14,
            "fieldNo": 5,
            "name": "price",
            "priority": 4
        },
        {
            "dataportId": 14,
            "fieldNo": 6,
            "name": "calculated_price",
            "priority": 5
        },
        {
            "dataportId": 14,
            "fieldNo": 7,
            "name": "sale_price",
            "priority": 6
        },
        {
            "dataportId": 14,
            "fieldNo": 8,
            "name": "retail_price",
            "priority": 7
        },
        {
            "dataportId": 14,
            "fieldNo": 9,
            "name": "map_price",
            "priority": 8
        },
        {
            "dataportId": 14,
            "fieldNo": 10,
            "name": "weight",
            "priority": 9
        },
        {
            "dataportId": 14,
            "fieldNo": 11,
            "name": "calculated_weight",
            "priority": 10
        },
        {
            "dataportId": 14,
            "fieldNo": 12,
            "name": "width",
            "priority": 11
        },
        {
            "dataportId": 14,
            "fieldNo": 13,
            "name": "height",
            "priority": 12
        },
        {
            "dataportId": 14,
            "fieldNo": 14,
            "name": "depth",
            "priority": 13
        },
        {
            "dataportId": 14,
            "fieldNo": 15,
            "name": "is_free_shipping",
            "priority": 14
        },
        {
            "dataportId": 14,
            "fieldNo": 16,
            "name": "fixed_cost_shipping_price",
            "priority": 15
        },
        {
            "dataportId": 14,
            "fieldNo": 17,
            "name": "purchasing_disabled",
            "priority": 16
        },
        {
            "dataportId": 14,
            "fieldNo": 18,
            "name": "purchasing_disabled_message",
            "priority": 17
        },
        {
            "dataportId": 14,
            "fieldNo": 19,
            "name": "image_url",
            "priority": 18
        },
        {
            "dataportId": 14,
            "fieldNo": 20,
            "name": "cost_price",
            "priority": 19
        },
        {
            "dataportId": 14,
            "fieldNo": 21,
            "name": "upc",
            "priority": 20
        },
        {
            "dataportId": 14,
            "fieldNo": 22,
            "name": "mpn",
            "priority": 21
        },
        {
            "dataportId": 14,
            "fieldNo": 23,
            "name": "gtin",
            "priority": 22
        },
        {
            "dataportId": 14,
            "fieldNo": 24,
            "name": "inventory_level",
            "priority": 23
        },
        {
            "dataportId": 14,
            "fieldNo": 25,
            "name": "inventory_warning_level",
            "priority": 24
        },
        {
            "dataportId": 14,
            "fieldNo": 26,
            "name": "bin_picking_number",
            "priority": 25
        },
        {
            "dataportId": 14,
            "fieldNo": 27,
            "name": "option_values",
            "priority": 26
        }
    ],
    "user": {
        "id": 2,
        "username": "admin"
    }
}